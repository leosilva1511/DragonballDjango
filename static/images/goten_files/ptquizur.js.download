window.__uprmap = {};sessionStorage.setItem('avCountry','BR');sessionStorage.setItem('avAdLabel','An√∫ncios');window.avConfig={host:"pt.quizur.com",slots:[{name:"/168346508/ptq_mobile_interstitial",type:"interstitial",delay:0,drift:!1,sizes:[],device:"mobile",cookies:"",placement:"av_interstitial"},{name:"/168346508/ptq_desktop_interstitial",type:"interstitial",delay:0,drift:!1,sizes:[],device:"desktop",cookies:"",placement:"av_interstitial"},{name:"/168346508/ptq_rewarded",type:"rewarded",delay:0,drift:!1,rebid:!1,sizes:[],device:"any",cookies:"",placement:"av_rewarded"},{name:"/168346508/ptq_mobile_anchor",type:"bottomAnchor",delay:3e3,drift:!1,sizes:[],device:"mobile",cookies:"avInterstitialViewed=true",placement:"av_anchor"},{name:"/168346508/ptq_desktop_anchor",type:"bottomAnchor",delay:3e3,drift:!1,sizes:[],device:"desktop",cookies:"avInterstitialViewed=true",placement:"av_anchor"},{name:"/168346508/ptq_mobile_top",type:"static",delay:0,drift:!1,sizes:[[300,250],[336,280],"fluid"],device:"mobile",cookies:"",placement:"av_top"},{name:"/168346508/ptq_mobile_content_1",type:"static",delay:1e3,drift:!1,sizes:[[300,250],[336,280],[320,480],"fluid"],device:"mobile",cookies:"",placement:"av_content_1"},{name:"/168346508/ptq_mobile_content_2",type:"static",delay:2e3,drift:!1,sizes:[[300,250],[336,280],[320,480],"fluid"],device:"mobile",cookies:"",placement:"av_content_2"},{name:"/168346508/ptq_desktop_top",type:"static",delay:0,drift:!1,sizes:[[300,250],[336,280],"fluid"],device:"desktop",cookies:"",placement:"av_top"},{name:"/168346508/ptq_desktop_content_1",type:"static",delay:1e3,drift:!1,sizes:[[300,250],[336,280],"fluid"],device:"desktop",cookies:"",placement:"av_content_1"},{name:"/168346508/ptq_desktop_content_2",type:"static",delay:2e3,drift:!1,sizes:[[300,250],[336,280],"fluid"],device:"desktop",cookies:"",placement:"av_content_2"}],theme:{adLabel:"Advertisement",primaryColor:"#000000"},domain:"quizur",snippets:[],extraInfo:{metabaseId:5815,admanagerCurrency:"BRL"},modifiers:[],priceRules:{KV:"price_rule",mode:"off"},showLoader:!0,overwriteStyle:!1,tags:[{type:"cdp",events:[{label:"session_start",action:"sessionStart"},{label:"page_impression",action:"pageImpression"},{label:"page_scroll",action:"pageScroll"},{label:"link_click",action:"linkClick"},{label:"ad_request",action:"adRequest"},{label:"ad_response",action:"adResponse"},{label:"ad_view",action:"adView"},{label:"ad_click",action:"adClick"},{label:"escalated_measurement",action:"escalatedMeasurement"}],params:{writeKey:"eyJhbGciOiJIUzI1NiJ9.eyJkb21haW4iOiJxdWl6dXIiLCJob3N0IjoicHQucXVpenVyLmNvbSJ9.rGGnrPV5skGjKo2etg0CFpqVNnWkav_ilKVtY26EDJg"}}]};class AV{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S,_,k,T,x,I){this.domain=e,this.host=t,this.extraInfo=i,this.ASPercentage=s,this.invalidTraffic=a,this.priceRules=r,this.consent=o,this.KVBlacklist=n,this.overwriteStyle=l,this.showLoader=d,this.lazyLoad=h,this.theme=c,this.telemetry=g,this.refresh=u,this.snippets=p,this.setPPID=m,this.setPPS=f,this.extraOptions=v,this.modifiers=w,this.skipAds=y,this.locale=""!==b?b:this.getLocale(),this.customKVs=S,this.extraKVs=this.keysToLowerCase(_),this.whitelistRegEx=k,this.blacklistRegEx=T,this.skipGPT=x,this.skipTags=I,this.variantPercentage=this.extraOptions.variantPercentage??.5,this.riskScoreThreshold=this.invalidTraffic.riskScoreThreshold??91,this.countryRiskScoreThreshold={},this.pagePath=this.getPagePath(window.location.pathname),this.isMobile=Math.min(window.screen.width,window.screen.height)<768,this.experiment=sessionStorage.getItem("avExperiment")||(Math.random()<this.variantPercentage?"variant":"control"),this.checkModifiers(),this.showLoader&&this.isMobile&&!this.skipAds&&this.pagePath.length>5&&this.insertLoader(),this.marketplace=sessionStorage.getItem("avMarketplace")||(Math.random()>this.ASPercentage?"adexchange":"adsense"),this.search=new URLSearchParams(window.location.search),this.isReady=!1,this.rendered=!1,this.requested=!1,this.isSafe="off"===this.invalidTraffic.mode||null,this.slots=[],this.tags=[],this.priceRules.map="custom"===this.priceRules.mode?null:{},this.priceRules.endpoint="variant"===this.experiment?this.priceRules.variantEndpoint:void 0,this.priceRules.endpoint=this.priceRules.endpoint||this.priceRules.alternativeEndpoint||`https://d2pn47juqu41ip.cloudfront.net/${this.domain}/price.js`,this.country=sessionStorage.getItem("avCountry"),this.counter=document.cookie.includes("avInterstitialViewed=true")?Number(sessionStorage.getItem("avCounter")):0,this.priceRules.slots=this.priceRules.slots||[.05,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,55,60,65,70,75,80,85,90,95,100,110,120,130,140,150,160,170,180,190,200,210,220,230,240,250,275,300,325,350,375,400,425,450,475,500,525,550,575,600,625,650,675,700,725,750,775,800,825,850,875,900,925,950,975,1e3],this.date=new Date,this.randomNumber=Number(sessionStorage.getItem("avRandomNumber")??Math.random().toFixed(4)),this.consentInfo="gfc"===this.consent.mode?{GFC:{gdprApplies:!0}}:{},this.consentGiven="off"===this.consent.mode||null,this.definedSlots=[],this.definedTypes=[],this.definedIds=[],this.displayedTypes=[],this.timeline=[],this.visible=!1,this.setup()}getLocale(){return!0===this.extraOptions.setLocaleFromBrowser?(window.navigator?.language??"").substring(0,2):""}triggerTags(e,t,i){this.tags.forEach((s=>{i.includes(s.type)&&s.trigger(e,t)}))}findTag(e,t,i){for(const s of this.tags)if(s.type===e&&s.params.id===t)for(const e of s.events)if(e.action===i)return s}getAdmanagerId(){return this.slots[this.slots.length-1].name.split("/")[1]}keysToLowerCase(e){return Object.keys(e).forEach((function(t){let i=t.toLowerCase();i!==t&&(e[i]=e[t],delete e[t])})),e}pushToTimeline(e){for(const t of e){if(this.timeline.includes(t))return;this.timeline.push(t)}}applyModifiers(e){for(const t in this.modifiers[e])this[t]=this.modifiers[e][t],"ASPercentage"===t&&null!==sessionStorage.getItem("avMarketplace")&&sessionStorage.removeItem("avMarketplace")}checkModifiers(){for(const e in this.modifiers)e.includes("experiment=")&&e.toLowerCase().includes(this.experiment)&&this.applyModifiers(e),e.includes("utm_source=")&&(window.location.href.toLowerCase().includes(e.toLowerCase())||!window.location.href.toLowerCase().includes("utm_source=")&&sessionStorage.getItem("avUtmSource")===e.toLowerCase().split("=")[1])&&this.applyModifiers(e)}insertStyleSheet(e){const t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}insertDiv(e,t){const i=document.createElement("div");return i.id=e,i.innerHTML=t,document.body.appendChild(i),i}fadeOut(e){document.getElementById(e.id)&&(e.addEventListener("animationend",(()=>{document.body.style.position="",e.remove()})),e.style="animation: av-fadeOut 0.5s forwards;")}insertLoader(){if("object"!=typeof document?.body||"object"!=typeof document.body?.parentNode)return void setTimeout((()=>this.insertLoader()),100);this.insertStyleSheet(`#av-loader__wrapper{position:fixed;width:100vw;height:100vh;z-index:9999;top:0;background-color:rgb(255, 255, 255, 0.5);backdrop-filter: blur(10px);-webkit-backdrop-filter: blur(10px);opacity:0;animation:av-fadeIn 0.5s forwards}@keyframes av-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes av-fadeOut{0%{opacity:1;z-index:9999}100%{opacity:0;z-index:0;display:none}}#av-loader__spinner{position:relative;width:60px;height:60px;margin:auto;top:45%;border:8px solid #f3f3f3;border-radius:50%;border-top:8px solid ${this.theme.primaryColor};-webkit-animation:spin 1s linear infinite;animation:av-spin 1s linear infinite}@-webkit-keyframes av-spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes av-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}#av-loader__text{position:relative;top:45%;text-align:center;font-size:20px;font-weight:bold;margin:20px}`);const e=this.insertDiv("av-loader__wrapper",'<div id="av-loader__spinner"></div><div id="av-loader__text"></div>');window.scrollTo({top:0,behavior:"smooth"}),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),1e3),setTimeout((()=>{window.scrollTo({top:0,behavior:"instant"})}),1500),setTimeout((()=>{window.scrollTo({top:0,behavior:"instant"})}),2e3),this.waitFor((()=>0===window.scrollY)).then((()=>{this.overwriteStyle&&document.getElementById("av-loader__wrapper")&&(document.body.style.position="fixed")})),setTimeout((()=>{this.fadeOut(e)}),1e4),setTimeout((()=>{this.waitFor((()=>!1===this.isSafe||!0===this.rendered)).then((()=>{this.fadeOut(e)}))}),2500)}dispatchEvent(e,t,i){e.dispatchEvent(new CustomEvent(t,{detail:i}))}isEU(){return(["CH","GB","NO"]+["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"]).includes(this.country)}showLimitedAds(){return"limited"===this.consent.mode&&this.isEU()}showNonPersonalizedAds(){return"nonPersonalized"===this.consent.mode}getGPTEndpoint(){return this.showLimitedAds()?"https://pagead2.googlesyndication.com/tag/js/gpt.js":"https://securepubads.g.doubleclick.net/tag/js/gpt.js"}setup(){this.waitFor((()=>!0===this.isReady&&!0===this.isSafe&&(this.displayedTypes.includes("static")||this.displayedTypes.includes("dummy")))).then((_=>{this.snippets.forEach((snippet=>eval?.(snippet)))})),this.prepWindow(),this.skipGPT||this.insertScript(this.getGPTEndpoint(),(()=>{})),null===sessionStorage.getItem("avRiskScore")||isNaN(sessionStorage.getItem("avRiskScore"))?"escalated"===this.invalidTraffic.mode&&0===this.invalidTraffic.timeout?(this.updateIsSafe(null,null,null,0),setTimeout((()=>{this.insertScript("//tag.escalated.io?i=ZVisSlSVgsQR&callback=avUpdateIsSafe",(()=>{this.updateIsSafe(null,null,null,0)}))}),2e3)):"escalated"===this.invalidTraffic.mode&&this.insertScript("//tag.escalated.io?i=ZVisSlSVgsQR&callback=avUpdateIsSafe",(()=>{this.updateIsSafe(null,null,null,0)})):this.updateIsSafe(null,null,null,Number(sessionStorage.getItem("avRiskScore"))),"custom"===this.priceRules.mode&&void 0===window.__uprmap&&this.insertScript(this.priceRules.endpoint,(()=>{this.updatePriceRulesMap({})})),null===sessionStorage.getItem("avCountry")&&fetch("https://trk.atpnd.com/",{method:"GET",headers:{accept:"application/json"}}).then((e=>e.json())).then((e=>{sessionStorage.setItem("avCountry",e.country),this.updateCountry(e.country),sessionStorage.setItem("avAdLabel",e.translationStrings.adLabel)})),setTimeout((()=>{this.updateIsSafe(null,null,null,0)}),this.invalidTraffic.timeout??1e3),setTimeout((()=>{this.updateCountry("??"),this.updatePriceRulesMap({})}),this.priceRules.timeout??1e3),this.waitFor((()=>void 0!==window.__uprmap)).then((()=>{this.updatePriceRulesMap(window.__uprmap)}))}overwriteStorage(e,t,i,s,a){this.KVBlacklist.includes(t)||(s&&null!=i&&""!==i&&"null"!==i&&e.setItem(t,a?i.toLowerCase():i),s||null!==e.getItem(t)||null==i||""===i||"null"===i||e.setItem(t,a?i.toLowerCase():i))}updateCountry(e){let t=void 0===window.av?this:window.av;null===t.country&&(t.country=e)}updatePriceRulesMap(e){let t=void 0===window.av?this:window.av;null===t.priceRules.map&&(t.priceRules.map=e)}track(e,t,i){if(i.includes("ga")&&this.waitFor((()=>Object.keys(window.google_tag_manager||[]).filter((e=>"G-"==e.substring(0,2))).length>0)).then((()=>{function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("event",e,{send_to:Object.keys(window.google_tag_manager||[]).filter((e=>"G-"==e.substring(0,2)))[0]})})),i.includes("rudder")){if("object"!=typeof window.rudderanalytics){var s=window.rudderanalytics=window.rudderanalytics||[];s.methods=["load","page","track","identify","alias","group","ready","reset","getAnonymousId","setAnonymousId"],s.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),s.push(t),s}};for(var a=0;a<s.methods.length;a++){var r=s.methods[a];s[r]=s.factory(r)}s.loadJS=function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.rudderlabs.com/v2/rudder-analytics.min.js?transport=beacon";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},s.loadJS(),s.load("1qlJXFMeYUmTyucX6KUVQVEjBBM","https://rdr.atpnd.com")}window.rudderanalytics.track(e,t)}if(i.includes("cf")){let i={pagePath:this.pagePath,eventName:e};fetch("https://tlm.atpnd.com/?"+new URLSearchParams({...i,...t}),{method:"GET",headers:{accept:"application/json"},keepalive:!0,priority:"low"})}}updateIsSafe(e,t,i,s){let a=void 0===window.av?this:window.av;null!==e&&(sessionStorage.setItem("avRiskScore",s),a.triggerTags("escalatedMeasurement",{escalatedResult:e,escalatedTrafficType:i,escalatedRiskScore:s},["cdp"])),null===a.isSafe&&(a.riskScoreThreshold="string"==typeof a.country&&a.country in a.countryRiskScoreThreshold?a.countryRiskScoreThreshold[a.country]:a.riskScoreThreshold,a.isSafe=s<=a.riskScoreThreshold,a.riskScore=s,!1===a.isSafe&&a.track("av_blocked_page_view",{},["ga"]))}waitFor(e){const t=i=>{e()?i():setTimeout((()=>t(i)),10)};return new Promise(t)}setCookie(e,t,i){if(i<=0)return;let s=new Date;s.setTime(s.getTime()+parseInt(1e3*i)),document.cookie=e+"="+t+";expires="+s.toUTCString()+`;domain=.${this.host};path=/`}hasCookie(e){return document.cookie.includes(e)}getCookie(e){let t=e+"=",i=decodeURIComponent(document.cookie).split(";");for(let e=0;e<i.length;e++){let s=i[e];for(;" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}prepWindow(){this.utcTimestamp=(new Date).toISOString().replace(/T/," ").replace(/Z/,"+00"),this.overwriteStorage(sessionStorage,"avMarketplace",this.marketplace,!1,!0),this.overwriteStorage(sessionStorage,"avExperiment",this.experiment,!1,!0),this.overwriteStorage(sessionStorage,"avRandomNumber",String(this.randomNumber),!1,!0),this.overwriteStorage(sessionStorage,"avUtmSource",this.search.get("utm_source"),!0,!0),this.overwriteStorage(sessionStorage,"avUtmMedium",this.search.get("utm_medium"),!0,!0),this.overwriteStorage(sessionStorage,"avUtmCampaign",this.search.get("utm_campaign"),!0,!0),this.overwriteStorage(sessionStorage,"avUtmContent",this.search.get("utm_content"),!0,!0),this.overwriteStorage(sessionStorage,"avUtmTerm",this.search.get("utm_term"),!0,!0),this.overwriteStorage(sessionStorage,"avRequestUri",this.pagePath,!0,!0),this.hasCookie("avLandUri")&&this.overwriteStorage(sessionStorage,"avLandUri",this.getCookie("avLandUri"),!0,!0),this.overwriteStorage(sessionStorage,"avLandUri",this.pagePath,!1,!0),this.hasCookie("avUtcTimestamp")&&this.overwriteStorage(sessionStorage,"avUtcTimestamp",this.getCookie("avUtcTimestamp"),!0,!0),this.skipAds||this.overwriteStorage(sessionStorage,"avUtcTimestamp",this.utcTimestamp,!1,!0),this.overwriteStorage(sessionStorage,"avSessionId",this.uuid(),!1,!0),this.overwriteStorage(localStorage,"avMarketplace",this.marketplace,!1,!0),this.overwriteStorage(localStorage,"avExperiment",this.experiment,!1,!0),this.overwriteStorage(localStorage,"avRandomNumber",String(this.randomNumber),!1,!0),this.overwriteStorage(localStorage,"avUtmSource",this.search.get("utm_source"),!1,!0),this.overwriteStorage(localStorage,"avUtmMedium",this.search.get("utm_medium"),!1,!0),this.overwriteStorage(localStorage,"avUtmCampaign",this.search.get("utm_campaign"),!1,!0),this.overwriteStorage(localStorage,"avUtmContent",this.search.get("utm_content"),!1,!0),this.overwriteStorage(localStorage,"avUtmTerm",this.search.get("utm_term"),!1,!0),this.overwriteStorage(localStorage,"avGclid",this.search.get("gclid"),!0,!1),this.overwriteStorage(localStorage,"avFbclid",this.search.get("fbclid"),!0,!1),this.overwriteStorage(localStorage,"avTbclid",this.search.get("tbclid"),!0,!1),this.overwriteStorage(localStorage,"avTtclid",this.search.get("ttclid"),!0,!1),this.overwriteStorage(localStorage,"avRequestUri",this.pagePath,!1,!0),this.hasCookie("avLandUri")&&this.overwriteStorage(localStorage,"avLandUri",this.getCookie("avLandUri"),!1,!0),this.overwriteStorage(localStorage,"avLandUri",this.pagePath,!1,!0),this.hasCookie("avUtcTimestamp")&&this.overwriteStorage(localStorage,"avUtcTimestamp",this.getCookie("avUtcTimestamp"),!1,!0),this.skipAds||this.overwriteStorage(localStorage,"avUtcTimestamp",this.utcTimestamp,!1,!0),null===localStorage.getItem("avUserId")&&this.overwriteStorage(localStorage,"avUserId",this.fp(),!1,!0),window.avUpdateIsSafe=this.updateIsSafe,window.googletag=window.googletag||{cmd:[]},window.googlefc=window.googlefc||{},window.googlefc.ccpa=window.googlefc.ccpa||{},window.googlefc.ccpa.overrideDnsLink=!0,"gfc"===this.consent.mode&&(window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],googlefc.callbackQueue.push({CONSENT_DATA_READY:function(){"undefined"!=typeof __tcfapi&&__tcfapi("getTCData",0,function(e){this.consentInfo.GFC.gdprApplies=e.gdprApplies||!1,this.consentInfo.GFC.GDPR=e.purpose.consents}.bind(this)),"undefined"!=typeof __uspapi&&__uspapi("getUSPData",1,function(e){this.consentInfo.GFC.CCPA=e.uspString}.bind(this))}.bind(this)})),(this.showLimitedAds()||this.showNonPersonalizedAds())&&(googlefc.controlledMessagingFunction=e=>{e.proceed(!1)});for(const e of this.customKVs)""!==(e.name||"")&&""!==(e.storageKey||"")&&""!==(e.urlParam||"")&&void 0===this.extraKVs[e.name.toLowerCase()]&&this.overwriteStorage(sessionStorage,e.storageKey,this.search.get(e.urlParam),!0,!0)}insertScript(e,t){let i=document.createElement("script");i.src=e,i.async=!0,i.onerror=()=>{t?.()},document.head.appendChild(i)}setPageTargeting(e,t){let i="string"==typeof t?[t]:t;googletag.pubads().setTargeting(e,i.map((e=>String(e).substring(0,40))))}uuid(){return"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}md5(e){function t(e){var t,i="";for(t=0;t<=3;t++)i+=m.charAt(e>>8*t+4&15)+m.charAt(e>>8*t&15);return i}function i(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function s(e,t){return e<<t|e>>>32-t}function a(e,t,a,r,o,n){return i(s(i(i(t,e),i(r,n)),o),a)}function r(e,t,i,s,r,o,n){return a(t&i|~t&s,e,t,r,o,n)}function o(e,t,i,s,r,o,n){return a(t&s|i&~s,e,t,r,o,n)}function n(e,t,i,s,r,o,n){return a(t^i^s,e,t,r,o,n)}function l(e,t,i,s,r,o,n){return a(i^(t|~s),e,t,r,o,n)}function d(e){var t,i=1+(e.length+8>>6),s=new Array(16*i);for(t=0;t<16*i;t++)s[t]=0;for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<t%4*8;return s[t>>2]|=128<<t%4*8,s[16*i-2]=8*e.length,s}e=e.replace(/[^\x00-\x7F]/g,"").toLowerCase();var h,c,g,u,p,m="0123456789abcdef",f=d(""+e),v=1732584193,w=-271733879,y=-1732584194,b=271733878;for(h=0;h<f.length;h+=16)c=v,g=w,u=y,p=b,v=r(v,w,y,b,f[h+0],7,-680876936),b=r(b,v,w,y,f[h+1],12,-389564586),y=r(y,b,v,w,f[h+2],17,606105819),w=r(w,y,b,v,f[h+3],22,-1044525330),v=r(v,w,y,b,f[h+4],7,-176418897),b=r(b,v,w,y,f[h+5],12,1200080426),y=r(y,b,v,w,f[h+6],17,-1473231341),w=r(w,y,b,v,f[h+7],22,-45705983),v=r(v,w,y,b,f[h+8],7,1770035416),b=r(b,v,w,y,f[h+9],12,-1958414417),y=r(y,b,v,w,f[h+10],17,-42063),w=r(w,y,b,v,f[h+11],22,-1990404162),v=r(v,w,y,b,f[h+12],7,1804603682),b=r(b,v,w,y,f[h+13],12,-40341101),y=r(y,b,v,w,f[h+14],17,-1502002290),v=o(v,w=r(w,y,b,v,f[h+15],22,1236535329),y,b,f[h+1],5,-165796510),b=o(b,v,w,y,f[h+6],9,-1069501632),y=o(y,b,v,w,f[h+11],14,643717713),w=o(w,y,b,v,f[h+0],20,-373897302),v=o(v,w,y,b,f[h+5],5,-701558691),b=o(b,v,w,y,f[h+10],9,38016083),y=o(y,b,v,w,f[h+15],14,-660478335),w=o(w,y,b,v,f[h+4],20,-405537848),v=o(v,w,y,b,f[h+9],5,568446438),b=o(b,v,w,y,f[h+14],9,-1019803690),y=o(y,b,v,w,f[h+3],14,-187363961),w=o(w,y,b,v,f[h+8],20,1163531501),v=o(v,w,y,b,f[h+13],5,-1444681467),b=o(b,v,w,y,f[h+2],9,-51403784),y=o(y,b,v,w,f[h+7],14,1735328473),v=n(v,w=o(w,y,b,v,f[h+12],20,-1926607734),y,b,f[h+5],4,-378558),b=n(b,v,w,y,f[h+8],11,-2022574463),y=n(y,b,v,w,f[h+11],16,1839030562),w=n(w,y,b,v,f[h+14],23,-35309556),v=n(v,w,y,b,f[h+1],4,-1530992060),b=n(b,v,w,y,f[h+4],11,1272893353),y=n(y,b,v,w,f[h+7],16,-155497632),w=n(w,y,b,v,f[h+10],23,-1094730640),v=n(v,w,y,b,f[h+13],4,681279174),b=n(b,v,w,y,f[h+0],11,-358537222),y=n(y,b,v,w,f[h+3],16,-722521979),w=n(w,y,b,v,f[h+6],23,76029189),v=n(v,w,y,b,f[h+9],4,-640364487),b=n(b,v,w,y,f[h+12],11,-421815835),y=n(y,b,v,w,f[h+15],16,530742520),v=l(v,w=n(w,y,b,v,f[h+2],23,-995338651),y,b,f[h+0],6,-198630844),b=l(b,v,w,y,f[h+7],10,1126891415),y=l(y,b,v,w,f[h+14],15,-1416354905),w=l(w,y,b,v,f[h+5],21,-57434055),v=l(v,w,y,b,f[h+12],6,1700485571),b=l(b,v,w,y,f[h+3],10,-1894986606),y=l(y,b,v,w,f[h+10],15,-1051523),w=l(w,y,b,v,f[h+1],21,-2054922799),v=l(v,w,y,b,f[h+8],6,1873313359),b=l(b,v,w,y,f[h+15],10,-30611744),y=l(y,b,v,w,f[h+6],15,-1560198380),w=l(w,y,b,v,f[h+13],21,1309151649),v=l(v,w,y,b,f[h+4],6,-145523070),b=l(b,v,w,y,f[h+11],10,-1120210379),y=l(y,b,v,w,f[h+2],15,718787259),w=l(w,y,b,v,f[h+9],21,-343485551),v=i(v,c),w=i(w,g),y=i(y,u),b=i(b,p);return t(v)+t(w)+t(y)+t(b)}updateCounter(){sessionStorage.setItem("avCounter",this.counter+1);let e=window.location.href;setInterval((()=>{const t=window.location.href;t==e||t.includes("#")||(e=t,this.counter+=1,sessionStorage.setItem("avCounter",this.counter))}),300)}hasStaticSlots(){for(const e of this.slots)if("static"===e.type&&null!==document.getElementById(e.placement))return!0;return!1}getScrollPercentage(){if("object"!=typeof document?.body||"object"!=typeof document.body?.parentNode)return 0;let e=document.body;return(e.scrollTop||e.parentNode.scrollTop)/(e.parentNode.scrollHeight-e.parentNode.clientHeight)}clear(e){for(const t of this.definedSlots)t.placement===e&&t.clear(!0)}start(){this.waitFor((()=>!this.skipAds&&null!==this.priceRules.map&&"string"==typeof this.country)).then((()=>{for(const e of this.slots)e.isAvailable()&&e.setup();window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){for(const e of this.slots)0===e.delay&&""===e.condition&&e.isAvailable()&&"static"===e.type&&e.define(!0,!1);for(const e of this.slots)0===e.delay&&""===e.condition&&e.isAvailable()&&"static"!==e.type&&e.define(!0,!1);this.setPageTargeting("experiment",this.experiment),this.setPageTargeting("utm_source",`${sessionStorage.getItem("avUtmSource")}`),this.setPageTargeting("utm_medium",`${sessionStorage.getItem("avUtmMedium")}`),this.setPageTargeting("utm_campaign",`${sessionStorage.getItem("avUtmCampaign")}`),this.setPageTargeting("utm_content",`${sessionStorage.getItem("avUtmContent")}`),this.setPageTargeting("utm_term",`${sessionStorage.getItem("avUtmTerm")}`),this.setPageTargeting("request_uri",`${sessionStorage.getItem("avRequestUri")}`),this.setPageTargeting("land_uri",`${sessionStorage.getItem("avLandUri")}`),this.setPageTargeting("utm_campaign_medium",`${sessionStorage.getItem("avUtmCampaign")}_${sessionStorage.getItem("avUtmMedium")}`),this.setPageTargeting("utm_campaign_term",`${sessionStorage.getItem("avUtmCampaign")}_${sessionStorage.getItem("avUtmTerm")}`),("off"!==this.priceRules.mode&&void 0===this.priceRules.alternativeEndpoint||!0===this.telemetry)&&this.setPageTargeting("utm_source_req_uri",`${sessionStorage.getItem("avUtmSource")}_${sessionStorage.getItem("avRequestUri")}`),this.setPageTargeting("utm_source_land_uri",`${sessionStorage.getItem("avUtmSource")}_${sessionStorage.getItem("avLandUri")}`),"off"!==this.priceRules.mode&&void 0!==this.priceRules.alternativeEndpoint&&this.setPageTargeting("price_rule_hash",[this.md5(`${this.pagePath}__${sessionStorage.getItem("avUtmSource")}`)]);for(const e of this.customKVs)""!==(e.name||"")&&""!==(e.storageKey||"")&&""!==(e.urlParam||"")&&void 0===this.extraKVs[e.name.toLowerCase()]&&(this.extraKVs[e.name.toLowerCase()]=`${sessionStorage.getItem(e.storageKey)}`);for(const e in this.extraKVs)this.setPageTargeting(e,String(this.extraKVs[e]).replaceAll("|","").toLowerCase());"fetchMarginPercent"in this.lazyLoad&&googletag.pubads().enableLazyLoad({fetchMarginPercent:this.lazyLoad.fetchMarginPercent,renderMarginPercent:this.lazyLoad.renderMarginPercent,mobileScaling:this.lazyLoad.mobileScaling}),!1!==(this.extraOptions.singleRequest??!0)&&googletag.pubads().enableSingleRequest(),!0===this.setPPID&&(googletag.pubads().setPublisherProvidedId(localStorage.getItem("avUserId")),((this.setPPS.audience||[]).length>0||(this.setPPS.content||[]).length>0)&&googletag.setConfig({pps:{taxonomies:{IAB_AUDIENCE_1_1:{values:this.setPPS.audience||[]},IAB_CONTENT_2_2:{values:this.setPPS.content||[]}}}})),this.showLimitedAds()&&googletag.pubads().setPrivacySettings({limitedAds:!0}),googletag.enableServices(),this.isReady=!0,this.updateCounter(),this.definedSlots.forEach((e=>e.display())),setTimeout((()=>{0===av.displayedTypes.length&&av.displayedTypes.push("dummy")}),3e3),window.addEventListener("load",(()=>{0===av.displayedTypes.length&&!1===av.hasStaticSlots()&&av.displayedTypes.push("dummy")})),["rewarded"].forEach((e=>{this.definedSlots.some((t=>t.type===e&&0===t.delay))||this.pushToTimeline([`${e}->resolved`])})),this.slots.filter((e=>(e.delay>1||0===e.delay&&""!==e.condition)&&e.isAvailable())).forEach((e=>{setTimeout((()=>{this.waitFor((()=>e.isFulfilled())).then((()=>{e.define(!1,!1)}))}),e.delay)})),this.slots.filter((e=>e.delay>0&&e.delay<=1&&e.isAvailable())).forEach((e=>{this.waitFor((()=>this.getScrollPercentage()>=e.delay&&e.isFulfilled())).then((()=>{e.define(!1,!1)}))})),this.waitFor((()=>this.displayedTypes.length>0)).then((()=>{let e=0!==Object.keys(this.extraKVs).length?Object.keys(this.extraKVs).map((e=>`${e}=${String(this.extraKVs[e]).replaceAll("|","").toLowerCase()}`)).join("|"):"";fetch("https://hash.atpnd.com/"+this.md5(window.location.hostname+`${sessionStorage.getItem("avRequestUri")}`+`${sessionStorage.getItem("avLandUri")}`+`${sessionStorage.getItem("avUtmSource")}`+`${sessionStorage.getItem("avUtmCampaign")}`+`${sessionStorage.getItem("avUtmMedium")}`+`${sessionStorage.getItem("avUtmContent")}`+`${sessionStorage.getItem("avUtmTerm")}`+e)+"/",{method:"GET",headers:{accept:"application/json"},keepalive:!0,priority:"low"}).then((e=>e.json())).then((t=>{"HIT"!==t["Cf-Cache-Status"]&&this.track("av_hash",{hostname:window.location.hostname,metabase_id:this.extraInfo.metabaseId||"",admanager_id:this.getAdmanagerId(),admanager_currency:this.extraInfo.admanagerCurrency.toUpperCase()||"",admanager_pattern:this.slots[this.slots.length-1].name.split("/")[2].split("_")[0].toLowerCase()+"_",request_uri:`${sessionStorage.getItem("avRequestUri")}`,land_uri:`${sessionStorage.getItem("avLandUri")}`,utm_source:`${sessionStorage.getItem("avUtmSource")}`,utm_campaign:`${sessionStorage.getItem("avUtmCampaign")}`,utm_medium:`${sessionStorage.getItem("avUtmMedium")}`,utm_content:`${sessionStorage.getItem("avUtmContent")}`,utm_term:`${sessionStorage.getItem("avUtmTerm")}`,extra_kvs:e},["rudder"])}))}))}.bind(this))})),this.tags.forEach((e=>{e.setup()})),window.addEventListener("pageshow",(()=>{av.waitFor((()=>"off"===av.invalidTraffic.mode||null!==sessionStorage.getItem("avRiskScore"))).then((()=>{av.track("av_interaction",{type:"impression",subject:"page",label:"",risk_score:sessionStorage.getItem("avRiskScore")??0},["cf"]),av.visible=!0}))}))}getPagePath(e){const t="string"==typeof e?e.toLowerCase():window.location.pathname.toLowerCase();return this.normalizePagePath(t)}normalizePagePath(e){const t=e.replace(/\/{2,}/g,"/");return t.endsWith("/")?t:t+"/"}getCanvas(){try{let e=document.createElement("canvas"),t=e.getContext("2d"),i="jf1mdsa9i";return e.width=200,e.height=50,t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(i,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(i,4,17),e.toDataURL()}catch(e){return""}}getWebGL(){try{let e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(t&&"getParameter"in t){let e=t.getExtension("WEBGL_debug_renderer_info");return{vendor:(t.getParameter(t.VENDOR)||"").toString(),vendorUnmasked:e?(t.getParameter(e.UNMASKED_VENDOR_WEBGL)||"").toString():"",renderer:(t.getParameter(t.RENDERER)||"").toString(),rendererUnmasked:e?(t.getParameter(e.UNMASKED_RENDERER_WEBGL)||"").toString():"",version:(t.getParameter(t.VERSION)||"").toString(),shadingLanguageVersion:(t.getParameter(t.SHADING_LANGUAGE_VERSION)||"").toString(),maxAnisotropy:t.getExtension("EXT_texture_filter_anisotropic")?t.getParameter(t.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):""}}return{}}catch(e){return{}}}getArchitecture(){const e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}getMediaMatches(){let e=[];const t={"prefers-contrast":["high","more","low","less","forced","no-preference"],"any-hover":["hover","none"],"any-pointer":["none","coarse","fine"],pointer:["none","coarse","fine"],hover:["hover","none"],update:["fast","slow"],"inverted-colors":["inverted","none"],"prefers-reduced-motion":["reduce","no-preference"],"prefers-reduced-transparency":["reduce","no-preference"],scripting:["none","initial-only","enabled"],"forced-colors":["active","none"]};return Object.keys(t).forEach((i=>{t[i].forEach((t=>{matchMedia(`(${i}: ${t})`).matches&&e.push(`${i}: ${t}`)}))})),e}getPlugins(){let e=[];if(navigator.plugins)for(let t=0;t<navigator.plugins.length;t++){let i=navigator.plugins[t];e.push([i.name,i.filename,i.description].join("|"))}return e}getIntegral(e,t,i,s){const a=(i-t)/s;let r=0;for(let i=0;i<s;i++){r+=e(t+(i+.5)*a)}return r*a}getMathInfo(){return{acos:Math.acos(.5),asin:this.getIntegral(Math.asin,-1,1,97),atan:this.getIntegral(Math.atan,-1,1,97),cos:this.getIntegral(Math.cos,0,Math.PI,97),cosh:Math.cosh(9/7),e:Math.E,largeCos:Math.cos(1e20),largeSin:Math.sin(1e20),largeTan:Math.tan(1e20),log:Math.log(1e3),pi:Math.PI,sin:this.getIntegral(Math.sin,-Math.PI,Math.PI,97),sinh:this.getIntegral(Math.sinh,-9/7,7/9,97),sqrt:Math.sqrt(2),tan:this.getIntegral(Math.tan,0,2*Math.PI,97),tanh:this.getIntegral(Math.tanh,-9/7,7/9,97)}}fp(){if(!0!==this.setPPID)return this.uuid();try{const e=void 0!==navigator.deviceMemory?navigator.deviceMemory:0,t=window.performance&&window.performance.memory?window.performance.memory:{};let i={c:this.country||"",uA:navigator.userAgent,w:window.screen.width,h:window.screen.height,aW:window.screen.availWidth,aH:window.screen.availHeight,cD:window.screen.colorDepth,dPR:window.devicePixelRatio,t:Intl.DateTimeFormat().resolvedOptions().timeZone,tO:(new Date).getTimezoneOffset(),sS:!!window.sessionStorage,lS:!!window.localStorage,iDB:!!window.indexedDB,cE:navigator.cookieEnabled,tS:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,l:navigator.language,dNT:navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack||"",hC:navigator.hardwareConcurrency,pVE:navigator.pdfViewerEnabled,cV:this.getCanvas(),wGL:this.getWebGL(),p:window.navigator.platform||"",pS:navigator.productSub||"",pD:navigator.product||"",dM:e.toString()||"",jHSL:t.jsHeapSizeLimit||0,a:this.getArchitecture(),mM:this.getMediaMatches(),pG:this.getPlugins(),mI:this.getMathInfo()},s=this.md5(JSON.stringify(i));return s.substring(0,8)+"-"+s.substring(8,12)+"-"+s.substring(12,16)+"-"+s.substring(16,20)+"-"+s.substring(20,32)}catch(e){return this.uuid()}}}class AVSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){this.av=e,this.name=t,this.placement=i,this.sizes=s,this.device=a,this.locale=r,this.utmSource=o,this.urlPattern=n,this.rebid=l,this.refresh=d,this.drift=h,this.cookies=c,this.experiment=g,this.delay=u,this.condition=p,this.selectors=m,this.collapsible=f,this.priceRules=v,this.fallback=w,this.extraKVs=b,this.extraOptions=S,this.marketplace={bid:y.bid||this.av.marketplace,rebid:y.rebid||this.av.marketplace},this.rebidded=!1,this.visible=!1,this.refreshed=!1}clear(e){void 0!==this.definition&&(!0===e&&(this.refreshed=!0),this.refresh=!1,googletag.destroySlots([this.definition]))}getMarketplace(e){return!1===e?this.marketplace.bid:!0===e||this.rebidded?this.marketplace.rebid:this.marketplace.bid}getSuffix(e){let t="";return"aps"===this.getMarketplace(e)&&(t+="_aps"),!0===e&&(t+="_rebid"),void 0===e&&this.rebidded&&(t+="_rebid"),t}getName(e){return void 0!==this.av.extraInfo.childNetworkId&&""!==this.av.extraInfo.childNetworkId&&this.av.extraInfo.childNetworkId!==this.av.getAdmanagerId()?this.name.replace(this.av.getAdmanagerId(),`${this.av.getAdmanagerId()},${this.av.extraInfo.childNetworkId}`)+this.getSuffix(e):this.name+this.getSuffix(e)}getUnit(e){return this.getName(e).split("/")[2]}setAps(){void 0===window.apstag&&(!function(e,t,i,s,a,r,o){function n(i,s){t[e]._Q.push([i,s])}t[e]||(t[e]={init:function(){n("i",arguments)},fetchBids:function(){n("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=i.createElement(s)).async=!0,r.src=a,(o=i.getElementsByTagName(s)[0]).parentNode.insertBefore(r,o))
}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),apstag.init({pubID:this.av.extraInfo.apsPubId||"",adServer:"googletag",bidTimeout:2e3}))}setup(){"aps"!==this.getMarketplace(!1)&&"aps"!==this.getMarketplace(!0)||this.setAps()}isFulfilled(){return""===this.condition||this.av.timeline.includes(this.condition)}isAvailable(){if(""!==this.av.whitelistRegEx&&!this.name.match(this.av.whitelistRegEx))return!1;if(""!==this.av.blacklistRegEx&&this.name.match(this.av.blacklistRegEx))return!1;if("any"!==this.device){if("mobile"===this.device&&!this.av.isMobile)return!1;if("desktop"===this.device&&this.av.isMobile)return!1}return("string"!=typeof this.locale||"!"===this.locale.substring(0,1)||"any"===this.locale||""===this.av.locale||this.locale.replace("_","").toLowerCase()===this.av.locale.replace("_","").toLowerCase())&&(("string"!=typeof this.locale||"!"!==this.locale.substring(0,1)||"!"===this.locale||""===this.av.locale||this.locale.substring(1).replace("_","").toLowerCase()!==this.av.locale.replace("_","").toLowerCase())&&(!("object"==typeof this.locale&&this.locale.length>0&&""!==this.av.locale&&!this.locale.some((e=>e.replace("_","").toLowerCase()===this.av.locale.replace("_","").toLowerCase())))&&(!("string"==typeof this.locale&&"!"!==this.locale.substring(0,1)&&"any"!==this.locale&&""===this.av.locale&&!this.locale.toLowerCase().includes(this.av.country.toLowerCase()))&&(("string"!=typeof this.locale||"!"!==this.locale.substring(0,1)||"!"===this.locale||""!==this.av.locale||!this.locale.substring(1).toLowerCase().includes(this.av.country.toLowerCase()))&&(!("object"==typeof this.locale&&this.locale.length>0&&""===this.av.locale&&!this.locale.some((e=>e.toLowerCase().includes(this.av.country.toLowerCase()))))&&(("string"!=typeof this.utmSource||"!"===this.utmSource.substring(0,1)||"any"===this.utmSource||this.utmSource.toLowerCase()===`${sessionStorage.getItem(this.extraOptions.utmSourceKey||"avUtmSource")}`.toLowerCase())&&(("string"!=typeof this.utmSource||"!"!==this.utmSource.substring(0,1)||"!"===this.utmSource||this.utmSource.substring(1).toLowerCase()!==`${sessionStorage.getItem(this.extraOptions.utmSourceKey||"avUtmSource")}`.toLowerCase())&&(!("object"==typeof this.utmSource&&this.utmSource.length>0&&!this.utmSource.some((e=>e.toLowerCase()===`${sessionStorage.getItem(this.extraOptions.utmSourceKey||"avUtmSource")}`.toLowerCase())))&&(!("string"==typeof this.urlPattern&&"!"!==this.urlPattern.substring(0,1)&&"any"!==this.urlPattern&&!this.av.pagePath.toLowerCase().includes(this.urlPattern.toLowerCase()))&&(("string"!=typeof this.urlPattern||"!"!==this.urlPattern.substring(0,1)||"!"===this.urlPattern||!this.av.pagePath.toLowerCase().includes(this.urlPattern.substring(1).toLowerCase()))&&(!("object"==typeof this.urlPattern&&this.urlPattern.length>0&&!this.urlPattern.some((e=>this.av.pagePath.toLowerCase().includes(e.toLowerCase()))))&&(!("string"==typeof this.cookies&&"!"!==this.cookies.substring(0,1)&&""!==this.cookies&&!document.cookie.includes(this.cookies))&&(("string"!=typeof this.cookies||"!"!==this.cookies.substring(0,1)||"!"===this.cookies||!document.cookie.includes(this.cookies.substring(1)))&&(!("object"==typeof this.cookies&&this.cookies.length>0&&!this.cookies.some((e=>document.cookie.includes(e))))&&(("any"===this.experiment||this.experiment.toLowerCase()===this.av.experiment.toLowerCase())&&(this.condition===`${this.placement}->unfilled`||!this.av.definedIds.includes(this.placement)))))))))))))))))}refAps(){apstag.fetchBids({slots:[{slotID:this.placement,slotName:this.getName(),sizes:this.sizes}]},function(e){""!==e[0].amzniid&&this.av.waitFor((()=>!0===this.av.requested)).then((()=>{void 0!==this.definition&&this.definition.getAdUnitPath()!==this.getName()&&delete this.definition,void 0!==this.definition&&apstag.setDisplayBids(),this.definition=this.definition||googletag.defineSlot(this.getName(),this.sizes,this.placement).addService(googletag.pubads()).setTargeting(this.av.priceRules.KV||"price_rule",this.getPriceRule()).setTargeting("marketplace",this.getMarketplace()).setTargeting("amznbid",e[0].amznbid).setTargeting("amzniid",e[0].amzniid).setTargeting("amznp",e[0].amznp).setTargeting("amznsz",e[0].amznsz),googletag.pubads().refresh([this.definition]),this.afterRender({isEmpty:!1,slot:this.definition,size:e[0].size.split("x")})})),""===e[0].amzniid&&this.afterRender({isEmpty:!0,slot:{getAdUnitPath:function(){return this.getName()}},size:[0,0]})}.bind(this))}triggerRefresh(){return!!this.refresh&&("adsense"!==this.getMarketplace()&&(this.refreshed=!0,"aps"!==this.getMarketplace()&&googletag.pubads().refresh([this.definition]),void("aps"===this.getMarketplace()&&this.refAps())))}triggerTags(e,t){t.slot=this,this.av.tags.forEach((i=>{i.trigger(e,t)}))}getIframeDocument(){let e=this.getIframe();if(void 0!==e&&null!==e.contentDocument)return e.contentWindow.document}getIframeUrl(){let e=this.getIframe();if(void 0===e||null===e.contentDocument)return;let t=e.contentDocument.querySelectorAll("a");for(let e of t){let t=e.getAttribute("href");if(null!==t&&t.includes("tdv")&&t.split("tdv")[1].includes("://"))return t.split("tdv")[1].split("://")[1].split("%")[0];if(null!==t&&t.includes("adurl"))return new URL(t).searchParams.get("adurl").split("://")[1].split("?")[0]}}getIframe(){let e=document.getElementById(this.definition.getSlotElementId());if(null!==e)return e.querySelector("iframe")}getValueOffset(){let e=[{start:0,end:10,offset:1.06},{start:11,end:16,offset:.97},{start:17,end:23,offset:.87}];for(const t of e)if(this.av.date.getHours()>=t.start&&this.av.date.getHours()<=t.end)return t.offset;return 1}onAdView(e){e.iframeUrl=this.getIframeUrl(),this.av.telemetry||this.triggerTags("adView",{event:e}),this.av.telemetry&&fetch("https://kv.atpnd.com/av:value:"+this.av.md5(this.av.domain+this.av.country+e.slot.getAdUnitPath().split("/")[2]+`${sessionStorage.getItem("avUtmSource")}_${sessionStorage.getItem("avRequestUri")}`.substring(0,40)),{method:"GET",headers:{accept:"application/json"}}).then((e=>e.json())).then((t=>{let i=this.getPriceRule(e.slot.getAdUnitPath().includes(this.getSuffix(!0)));"off"!==i&&"0.0X"!==i&&"dynamic"!==i||(i="0.00");let s=+(parseFloat(i)/1e3).toFixed(2),a=Math.max(.01,""===t.value?.01:+(parseFloat(t.value)*this.getValueOffset()).toFixed(2),s);this.av.dispatchEvent(document,"AVSlotVisible",{placement:this.placement,isValuable:!e.slot.getAdUnitPath().includes(this.getSuffix(!0))&&["interstitial","static"].includes(this.type)&&(0===this.delay||this.delay>1&&this.delay<=100)&&this.av.counter<=1&&"0.05"!==this.getPriceRule(!1)&&"0.0X"!==this.getPriceRule(!1),value:a,currency:this.av.extraInfo.admanagerCurrency.toUpperCase()}),this.triggerTags("adView",{event:e,value:a,currency:this.av.extraInfo.admanagerCurrency.toUpperCase()})}));let t=this.getIframeDocument();void 0!==t&&(t.event=e,t.addEventListener("click",function(e){this.triggerTags("linkClick",{}),this.triggerTags("adClick",{event:e.currentTarget.event})}.bind(this)))}addCallbacks(){this.rebidded||(googletag.pubads().addEventListener("slotRequested",function(e){this.av.requested=!0,e.slot===this.definition&&this.triggerTags("adRequest",{event:e})}.bind(this)),googletag.pubads().addEventListener("slotRenderEnded",function(e){this.av.rendered=!0,e.slot===this.definition&&(this.afterRender(e),this.triggerTags("adResponse",{event:e}))}.bind(this)),googletag.pubads().addEventListener("impressionViewable",function(e){e.slot===this.definition&&this.onAdView(e)}.bind(this)),googletag.pubads().addEventListener("slotVisibilityChanged",function(e){e.slot===this.definition&&e.inViewPercentage>.2&&(this.setVisibilityCookie(),this.visible||this.av.waitFor((()=>("off"===av.invalidTraffic.mode||null!==sessionStorage.getItem("avRiskScore"))&&!0===this.av.visible)).then((()=>{this.av.track("av_interaction",{type:"impression",subject:"slot",label:this.type,risk_score:sessionStorage.getItem("avRiskScore")??0},["cf"])})),this.visible=!0)}.bind(this)))}destroy(){googletag.destroySlots([this.definition])}afterRender(e){this.rebid&&e.isEmpty&&!this.rebidded&&(this.rebidded=!0,this.destroy(),this.define(!1,!0)),!e.isEmpty||this.rebid&&!e.slot.getAdUnitPath().includes(this.getSuffix(!0))||(this.refreshed||this.av.pushToTimeline([`${this.type}->unfilled`,`${this.placement}->unfilled`,`${this.type}->resolved`,`${this.placement}->resolved`]),"number"==typeof this.refreshHandle&&void 0!==this.av.refresh.retryTimeout&&(window.clearTimeout(this.refreshHandle),this.refreshHandle=setTimeout((()=>{this.triggerRefresh()}),this.av.refresh.retryTimeout)))}setExtraKV(e,t){if(void 0===this.extraKVs[e])return;if("protection"===e&&!1===this.extraOptions.protectBid&&!t)return;if("protection"===e&&!1===this.extraOptions.protectRebid&&t)return;let i="string"==typeof this.extraKVs[e]?[this.extraKVs[e]]:this.extraKVs[e];void 0!==this.definition&&this.definition.setTargeting(e,i.map((e=>String(e).toLowerCase().substring(0,40))))}define(e,t){t||(this.av.definedSlots.push(this),this.av.definedTypes.push(this.type),this.av.definedIds.push(this.placement)),this.addCallbacks();for(const e in this.extraKVs)this.setExtraKV(e,t);e||(googletag.enableServices(),this.display())}getAggressiveness(e){return this.priceRules.aggressiveness||this.av.priceRules.aggressiveness||1}getDecay(e){let t=this.priceRules.decay||this.av.priceRules.decay||1;return"adsense"===this.getMarketplace(e)&&(t=Math.min(.25,t)),t**this.av.counter}getPriceRuleOffset(){if(!1===(this.av.priceRules.offset??!1))return 0;let e=[{start:0,end:7,offset:2},{start:8,end:15,offset:0},{start:16,end:23,offset:-1}];for(const t of e)if(this.av.date.getHours()>=t.start&&this.av.date.getHours()<=t.end)return t.offset;return 0}getPriceRuleSlot(e,t){if((e=this.getAggressiveness(t)*this.getDecay(t)*e)>=this.av.priceRules.slots[this.av.priceRules.slots.length-1])return this.av.priceRules.slots[this.av.priceRules.slots.length-1].toFixed(2);let i=this.av.priceRules.slots.findIndex((t=>t>=e))+this.getPriceRuleOffset();if(i<0)return"0.05";if(i>=this.av.priceRules.slots.length)return this.av.priceRules.slots[this.av.priceRules.slots.length-1].toFixed(2);let s=this.av.priceRules.slots[i];return s?s.toFixed(2):"0.05"}getPriceRuleCountries(){if("any"===this.locale&&"??"!==this.av.country)return[this.av.country,"*"];if(void 0!==this.av.priceRules.alternativeEndpoint&&"??"!==this.av.country)return[this.av.country,"*"];if("any"!==this.locale)return["*"];let e="any"===this.device?"!":this.device,t=Object.keys(this.av.priceRules.map[e]||{});return"??"===this.av.country&&1===t.length?t:["*"]}getPriceRule(e){if("off"===this.priceRules.mode||"off"===this.av.priceRules.mode)return"0.0X";if(this.av.randomNumber<(this.priceRules.skipRate??this.av.priceRules.skipRate??-1))return"0.0X";if("adsense"===this.getMarketplace(e))return"0.0X";if(!0===this.priceRules.ignoreRebid&&(!this.rebid||e))return"0.0X";if("dynamic"===this.priceRules.mode||"dynamic"===this.av.priceRules.mode)return"dynamic";if(null===this.av.priceRules.map||void 0===this.av.priceRules.map||0===Object.keys(this.av.priceRules.map).length)return this.av.priceRules.fallback||this.getPriceRuleSlot(0,e);let t="any"===this.device?"!":this.device,i="utm_source="+sessionStorage.getItem("avUtmSource"),s="utm_campaign="+sessionStorage.getItem("avUtmCampaign"),a=this.getUnit(e);for(const r of this.getPriceRuleCountries())if(t in this.av.priceRules.map&&r in this.av.priceRules.map[t]&&a in this.av.priceRules.map[t][r]){if(this.av.pagePath in this.av.priceRules.map[t][r][a]&&s in this.av.priceRules.map[t][r][a][this.av.pagePath])return this.getPriceRuleSlot(this.av.priceRules.map[t][r][a][this.av.pagePath][s],e);if(this.av.pagePath in this.av.priceRules.map[t][r][a]&&i in this.av.priceRules.map[t][r][a][this.av.pagePath])return this.getPriceRuleSlot(this.av.priceRules.map[t][r][a][this.av.pagePath][i],e);if(this.av.pagePath in this.av.priceRules.map[t][r][a]&&"!"in this.av.priceRules.map[t][r][a][this.av.pagePath])return this.getPriceRuleSlot(this.av.priceRules.map[t][r][a][this.av.pagePath]["!"],e);if("!"in this.av.priceRules.map[t][r][a]&&s in this.av.priceRules.map[t][r][a]["!"])return this.getPriceRuleSlot(this.av.priceRules.map[t][r][a]["!"][s],e);if("!"in this.av.priceRules.map[t][r][a]&&i in this.av.priceRules.map[t][r][a]["!"])return this.getPriceRuleSlot(this.av.priceRules.map[t][r][a]["!"][i],e);if("!"in this.av.priceRules.map[t][r][a]&&"!"in this.av.priceRules.map[t][r][a]["!"])return this.getPriceRuleSlot(this.av.priceRules.map[t][r][a]["!"]["!"],e)}return this.av.priceRules.fallback||this.getPriceRuleSlot(0,e)}getRefreshTimeout(){return this.extraOptions.refreshTimeout??this.av.refresh.timeout??3e4}}class AVOOPSlot extends AVSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S)}define(e,t){(t||this.isAvailable())&&(this.definition=googletag.defineOutOfPageSlot(this.getName(t),this.enum()),this.definition&&(this.definition.addService(googletag.pubads()).setTargeting(this.av.priceRules.KV||"price_rule",this.getPriceRule(t)).setTargeting("marketplace",this.getMarketplace(t)),super.define(e,t)))}display(){this.av.waitFor((()=>!0===this.av.isReady&&!0===this.av.isSafe&&void 0!==this.definition&&null!==this.definition&&(this.av.displayedTypes.includes("static")||this.av.displayedTypes.includes("dummy")))).then((()=>{googletag.display(this.definition),this.av.displayedTypes.push(this.type)}))}}class AVInterstitialSlot extends AVOOPSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S),this.type="interstitial"}enum(){return googletag.enums.OutOfPageFormat.INTERSTITIAL}getAggressiveness(e){let t=this.priceRules.aggressiveness||this.av.priceRules.aggressiveness||1;return this.rebid&&!e||(t=Math.min(2,t)),t}getPriceRule(e){return!(this.priceRules.ignoreRebid??void 0===this.av.priceRules.alternativeEndpoint)||this.rebid&&!e?super.getPriceRule(e):"0.0X"}setVisibilityCookie(){this.av.setCookie("avInterstitialViewed","true",this.extraOptions.duration??600)}}class AVRewardedSlot extends AVInterstitialSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,Math.max(1e3,u),p,m,f,v,w,y,b,S),this.type="rewarded",this.lifecycle="unready",this.copies=0,this.reward="",this.selector='[data-av-rewarded="true"],.av-rewarded',this.lazy=!0}enum(){return googletag.enums.OutOfPageFormat.REWARDED}addListeners(){for(let elem of document.querySelectorAll(this.selector)){if("A"!==elem.tagName)if(elem.getElementsByTagName("a").length>0)elem=elem.getElementsByTagName("a")[0];else{if("A"!==elem.parentElement.tagName)break;elem=elem.parentElement}""===(elem.getAttribute("href")??"")&&""!==(elem.getAttribute("onclick")??"")&&(elem.setAttribute("data-av-onclick",elem.getAttribute("onclick")),elem.setAttribute("onclick","")),elem.hasAttribute("data-google-rewarded")||(elem.setAttribute("data-google-rewarded","true"),elem.setAttribute("data-google-interstitial","false"),elem.hasAttribute("data-av-inner")&&0===elem.getElementsByTagName("button").length&&(elem.innerHTML=elem.getAttribute("data-av-inner")),elem.hasAttribute("data-av-inner")&&elem.getElementsByTagName("button").length>0&&(elem.getElementsByTagName("button")[0].innerHTML=elem.getAttribute("data-av-inner")),elem.addEventListener("click",function(event){"ready"!==this.lifecycle&&void 0!==this.modal&&this.onReward();let href=(event.target.getAttribute("href")||event.target.parentElement.getAttribute("href")||event.target.parentElement.parentElement.getAttribute("href")||event.target.parentElement.parentElement.parentElement.getAttribute("href"))??"",onclick=(event.target.getAttribute("data-av-onclick")||event.target.parentElement.getAttribute("data-av-onclick")||event.target.parentElement.parentElement.getAttribute("data-av-onclick")||event.target.parentElement.parentElement.parentElement.getAttribute("data-av-onclick"))??"";"ready"!==this.lifecycle&&void 0===this.modal&&""===href&&""!==onclick&&eval(onclick),"ready"===this.lifecycle&&(void 0!==this.modal||href.includes(window.location.hostname)||""===href&&""!==onclick)&&(event.preventDefault(),this.show((()=>{void 0===this.modal&&""!==href&&(window.location=href),void 0===this.modal&&""===href&&""!==onclick&&eval(onclick),this.onReward()})))}.bind(this)))}}define(e,t){this.lazy&&0===document.querySelectorAll(this.selector).length?setTimeout((()=>{this.define(e,t)}),100):super.define(e,t)}reward(){}show(e){this.reward=e,"ready"!==this.lifecycle&&this.reward(),"ready"===this.lifecycle&&(this.event.makeRewardedVisible(),this.lifecycle="opened",this.av.pushToTimeline([`${this.type}->visible`,`${this.placement}->visible`]))}triggerRefresh(){this.refreshed=!0,this.lifecycle="unready",this.destroy(),this.av.definedIds=this.av.definedIds.filter((e=>e!==this.placement)),this.define(!1,this.rebidded)}onReady(){}onReward(){}addCallbacks(){googletag.pubads().addEventListener("rewardedSlotReady",function(e){e.slot===this.definition&&(this.lifecycle="ready",this.event=e,this.onReady(),this.addListeners())}.bind(this)),googletag.pubads().addEventListener("rewardedSlotGranted",function(e){e.slot===this.definition&&(this.lifecycle="granted")}.bind(this)),googletag.pubads().addEventListener("rewardedSlotClosed",function(e){e.slot===this.definition&&("granted"===this.lifecycle&&this.reward(),"granted"!==this.lifecycle&&this.refresh&&this.triggerRefresh())}.bind(this)),this.rebidded||this.refreshed||super.addCallbacks()}setVisibilityCookie(){this.av.setCookie("avRewardedViewed","true",600)}}class AVOfferWallSlot extends AVRewardedSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S),this.delay=u,this.lazy=!1,this.extraOptions.nonpersistent&&(this.refresh=!1)}define(e,t){void 0!==this.extraOptions.lag&&this.extraOptions.lag>this.av.counter+1?setTimeout((()=>this.define(!1,t)),100):super.define(e,t)}isAvailable(){return!document.cookie.includes("avOfferWallRewarded=true")&&(!(void 0!==this.extraOptions.period&&Math.floor((this.av.date-new Date(this.av.date.getFullYear(),0,0))/1e3/60/60/24)%this.extraOptions.period==0&&this.av.randomNumber>(this.extraOptions.flickeringRate??0))&&super.isAvailable())}removeOnClick(){document.getElementById("av-offerwall__modal").addEventListener("click",function(e){e.stopPropagation()}.bind(this)),document.getElementById("av-offerwall__wrapper").addEventListener("click",function(){this.remove()}.bind(this))}isImplicit(){return(this.extraOptions.implicit??!1)&&(document.referrer??"").includes(this.av.host)}onReady(){if(void 0!==this.modal)return;let e=this.extraOptions.cta.length<=15?"18px":"15px",t=this.extraOptions.title,i=this.extraOptions.subtitle;this.extraOptions.allowCustomization&&(null!==document.querySelector("[data-av-title]")&&(t=document.querySelector("[data-av-title]").innerHTML.trim()),null!==document.querySelector("[data-av-subtitle]")&&(i=document.querySelector("[data-av-subtitle]").innerHTML.trim())),this.av.insertStyleSheet(`#av-offerwall__wrapper{font-family:system-ui;position:fixed;width:100vw;height:100vh;z-index:9999;top:0;background-color:rgb(255, 255, 255, 0.5);backdrop-filter: blur(10px);-webkit-backdrop-filter: blur(10px);opacity:0;animation:av-fadeIn 0.5s forwards}@keyframes av-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes av-fadeOut{0%{opacity:1;z-index:9999}100%{opacity:0;z-index:0;display:none}}#av-offerwall__modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:400px;max-width:90%;max-height:60%;background-color:white;border-radius:10px;box-shadow:0 0 1.5px rgba(0, 0, 0, 0.5);overflow:hidden}#av-offerwall__title{font-weight:bold !important;text-align:center;color:rgb(32, 33, 36) !important;font-size:1.2em !important;padding:20px}#av-offerwall__subtitle{text-align:center;padding-left:20px;padding-right:20px;margin-bottom:40px;color:rgb(32, 33, 36) !important}#av-offerwall__button{padding:0.8rem 1.4rem;font-weight:700;background-color:${this.av.theme.primaryColor};color:white;border-radius:5px;text-align:center;font-size:1em !important;;margin:20px 20px 10px}#av-offerwall__button>*>button{background-color:${this.av.theme.primaryColor};line-height:1.5;border:none}#av-offerwall__cta{float:left;margin:10px;font-size:${e};color:white}#av-offerwall__icon{margin:10px;font-size:1.8em;border-radius:50%;padding:0.2em;background-color:white;padding-left:11px;padding-right:9px;color:${this.av.theme.primaryColor};font-family:system-ui}#av-offerwall__footnote{text-align:center;color:gray !important;font-size:14px !important;padding-bottom: 20px}`),this.isImplicit()||(this.modal=this.av.insertDiv("av-offerwall__wrapper",`<div id="av-offerwall__modal"><h1 id="av-offerwall__title">${t}</h1><p id="av-offerwall__subtitle">${i}</p><div id="av-offerwall__button"><a data-av-rewarded="true"><button><div><span id="av-offerwall__cta">${this.extraOptions.cta}</span><span id="av-offerwall__icon">\u25b6</span></div></button></a></div><div id="av-offerwall__footnote">${this.extraOptions.footnote}</div></div>`),document.body.style.overflow="hidden",this.extraOptions.closeable&&this.removeOnClick()),this.isImplicit()&&setTimeout((()=>{this.show((()=>{this.onReward()})),this.modal=this.av.insertDiv("av-offerwall__wrapper",`<div id="av-offerwall__modal"><h1 id="av-offerwall__title">${t}</h1><p id="av-offerwall__subtitle">${i}</p><div id="av-offerwall__button"><a data-av-rewarded="true"><button><div><span id="av-offerwall__cta">${this.extraOptions.cta}</span><span id="av-offerwall__icon">\u25b6</span></div></button></a></div><div id="av-offerwall__footnote">${this.extraOptions.footnote}</div></div>`),document.body.style.overflow="hidden"}),1500),this.av.pushToTimeline([`${this.type}->filled`,`${this.placement}->filled`])}remove(){this.av.pushToTimeline([`${this.type}->resolved`,`${this.placement}->resolved`]),this.modal.remove(),document.body.style.overflow="visible"}onReward(){this.remove(),this.av.setCookie("avOfferWallRewarded","true",this.extraOptions.duration??43200)}show(e){super.show(e),this.extraOptions.nonpersistent&&setTimeout((()=>this.remove()),300)}}class AVAnchorSlot extends AVOOPSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S)}triggerRefresh(){super.triggerRefresh(),this.refreshHandle=setTimeout((()=>{this.triggerRefresh()}),this.getRefreshTimeout())}define(e,t){!1!==this.av.isSafe&&(t||this.isAvailable())&&(e||!document.getElementById("av-offerwall__wrapper")?(super.define(e,t),!t&&this.refresh&&(this.refreshHandle=setTimeout((()=>{this.triggerRefresh()}),this.getRefreshTimeout()))):setTimeout((()=>this.define(e,t)),100))}setVisibilityCookie(){this.av.setCookie("avAnchorViewed","true",60)}}class AVBottomAnchorSlot extends AVAnchorSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S),this.type="bottom_anchor"}enum(){return googletag.enums.OutOfPageFormat.BOTTOM_ANCHOR}}class AVTopAnchorSlot extends AVAnchorSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S),this.type="top_anchor"}enum(){return googletag.enums.OutOfPageFormat.TOP_ANCHOR}}class AVStaticSlot extends AVSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,Math.max(10,u),p,m,f,v,w,y,b,S),this.type="static",this.isVisible=!1,this.copies=0,this.fallback.html=this.fallback.html||"",this.style="min-width: 300px; min-height: 320px; width: 100%; margin-top: 1.25rem; margin-bottom: 1.25rem;"}onInsertion(){}insert(){if(this.isFulfilled()){for(const e of this.selectors)if(null===document.getElementById(this.placement)){let t=document.querySelector(e.element);if(null!==t){let i=document.createElement("div"),s="video"!==this.type?`<span style="font-size: 10px; text-transform: uppercase;">${sessionStorage.getItem("avAdLabel")||this.av.theme.adLabel||"Advertisement"}</span>`:"";i.innerHTML=`<div id="${this.placement}_wrapper" align="center" style="width: 100%; margin-top: 2rem; margin-bottom: 2rem; height: ${this.drift?"500":this.extraOptions.wrapperHeight??"400"}px;"><div>${s}<div id="${this.placement}"></div></div></div>`;let a=i.firstElementChild;t.parentNode.insertBefore(a,"after"===e.position?t.nextSibling:t),this.onInsertion()}}setTimeout((()=>{this.insert()}),1e3)}else setTimeout((()=>{this.insert()}),100)}setup(){super.setup(),this.insert(),this.delay>1&&this.delay<=100&&null!==document.getElementById(this.placement)&&(this.delay=0),this.av.waitFor((()=>document.getElementById(this.placement))).then((()=>{let e=document.getElementById(`${this.placement}_wrapper`);e&&(e.setAttribute("align","center"),(this.av.overwriteStyle&&void 0===this.extraOptions.wrapperHeight||this.drift)&&(e.style="width: 100%; margin-top: 2rem; margin-bottom: 2rem;"+(this.drift&&window.top===window.self?" min-height: 500px !important;":" min-height: 400px;")),e.children.length>0&&"DIV"===e.children[0].tagName&&e.children[0].id!==this.placement&&(e.children[0].style="width: 100%;"+(this.drift&&window.top===window.self?" position: sticky; top: 120px;":""))),document.getElementById(this.placement).style=this.style}))}collapse(){let e=document.getElementById(`${this.placement}_wrapper`)||document.querySelector(`[data-av-wrapper="${this.placement}"]`);e&&(e.style="color: rgba(0, 0, 0, 0) !important; overflow: hidden !important; min-height: 0px !important; max-height: 0px !important; border: none !important;"),this.refresh=!1}fixInnerHTML(e){Array.from(e.getElementsByTagName("a")).forEach((e=>{e.setAttribute("href",e.getAttribute("href").replaceAll("%3A",":").replaceAll("%2F","/").replaceAll("%3F","?"))})),setTimeout((()=>this.fixInnerHTML(e)),1e3)}setInnerHTML(e,t){null!==e&&(e.innerHTML=t,Array.from(e.querySelectorAll("script")).forEach((e=>{const t=document.createElement("script");Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})),this.fixInnerHTML(e))}afterRender(e){if(super.afterRender(e),"mab"===this.fallback.mode&&e.isEmpty&&(!this.rebid||e.slot.getAdUnitPath().includes(this.getSuffix(!0)))){let t=document.getElementById(`google_ads_iframe_${e.slot.getAdUnitPath()}_${this.copies}__container__`);null!==t&&(t.style="display: none;"),this.av.waitFor((()=>""!==(this.fallback.html||""))).then((()=>{""!==this.fallback.html&&this.setInnerHTML(document.getElementById(this.placement),this.fallback.html),this.fallback.html=""}))}if(this.collapsible&&"off"===this.fallback.mode&&e.isEmpty&&(!this.rebid||e.slot.getAdUnitPath().includes(this.getSuffix(!0)))&&this.collapse(),!e.isEmpty&&e.size[1]>450){let e=document.getElementById(`${this.placement}_wrapper`);e&&!this.drift&&(e.style.cssText+="height: auto; display: inline-block;"),e&&this.drift&&e.children.length>0&&"DIV"===e.children[0].tagName&&e.children[0].id!==this.placement&&(e.children[0].style="width: 100%;")}e.isEmpty||(this.av.pushToTimeline([`${this.type}->resolved`,`${this.placement}->resolved`]),this.collapsible=!1,this.refreshed||(this.av.pushToTimeline([`${this.type}->filled`,`${this.placement}->filled`]),e.slot.getAdUnitPath().includes(this.getSuffix(!0))&&this.av.pushToTimeline([`${this.type}->rebidded`,`${this.placement}->rebidded`])))}define(e,t){this.delay>0&&null===document.getElementById(this.placement)?setTimeout((()=>{this.define(e,t)}),100):(t||this.isAvailable())&&("aps"!==this.getMarketplace(t)&&(this.definition=googletag.defineSlot(this.getName(t),this.sizes,this.placement).addService(googletag.pubads()).setTargeting(this.av.priceRules.KV||"price_rule",this.getPriceRule(t)).setTargeting("marketplace",this.getMarketplace(t))),"aps"===this.getMarketplace(t)&&this.refAps(),super.define(e,t),t||(this.av.waitFor((()=>this.refresh&&this.isVisible)).then((()=>{this.refreshHandle=setTimeout((()=>{this.triggerRefresh()}),this.getRefreshTimeout()),void 0!==this.av.extraOptions.offerWallDrag&&this.av.waitFor((()=>null!==document.getElementById("av-offerwall__wrapper"))).then((()=>{window.clearTimeout(this.refreshHandle),this.av.waitFor((()=>null===document.getElementById("av-offerwall__wrapper"))).then((()=>{this.refreshHandle=setTimeout((()=>{this.triggerRefresh()}),this.av.extraOptions.offerWallDrag+100)}))}))})),this.observer=new IntersectionObserver((e=>{e.forEach((e=>{"static"===this.type&&this.isVisible&&!e.isIntersecting&&this.av.pushToTimeline([`${this.type}->overlooked`,`${this.placement}->overlooked`]),this.isVisible=e.isIntersecting}))}).bind(this),{rootMargin:"0px",threshold:this.av.extraOptions.refreshThreshold??.2})))}triggerRefresh(){this.isVisible?(super.triggerRefresh(),this.refreshHandle=setTimeout((()=>{this.triggerRefresh()}),this.getRefreshTimeout())):setTimeout((()=>{this.triggerRefresh()}),100)}destroy(){super.destroy();let e=this.number||0,t=document.getElementById(`google_ads_iframe_${this.getName(!1)}_${e}__container__`);t&&(t.style="display: none;")}copy(){this.refreshed||(document.querySelectorAll(`[id='${this.placement}']`).forEach((e=>{if(!e.hasAttribute("data-google-query-id")&&null!==e.offsetParent){this.copies+=1,e.id=`${this.placement}_${this.copies}`,e.parentNode.parentNode.id===`${this.placement}_wrapper`&&(e.parentNode.parentNode.id=`${this.placement}_${this.copies}_wrapper`);let t=new AVStaticSlot(this.av,this.name,`${this.placement}_${this.copies}`,this.sizes,this.device,this.locale,this.utmSource,this.urlPattern,this.rebid,this.refresh,this.drift,this.cookies,this.experiment,this.delay,this.condition,this.selectors,this.collapsible,this.priceRules,this.fallback,this.marketplace,this.extraKVs,this.extraOptions);t.number=this.copies,this.av.slots.push(t),t.setup(),t.define(!1,!1)}})),setTimeout((()=>{this.copy()}),100))}forceHouse(){""===this.fallback.html&&this.fetchHouse(),this.av.waitFor((()=>""!==(this.fallback.html||""))).then((()=>{""!==this.fallback.html&&this.setInnerHTML(document.getElementById(this.placement),this.fallback.html),this.fallback.html=""}))}fetchHouse(){let e=this.extraOptions.mabEndpoint??"https://mab.atpnd.com/?"+new URLSearchParams({country:this.av.country,placement:this.placement});fetch(e,{method:"GET",headers:{accept:"application/json"}}).then((e=>e.json())).then((e=>{this.fallback.html="html_array"in e?e.html_array.join("<br>"):e.html}))}display(){this.av.waitFor((()=>!0===this.av.isReady&&!0===this.av.isSafe&&document.getElementById(this.placement))).then((()=>{"aps"!==this.getMarketplace()&&googletag.display(this.definition),this.av.displayedTypes.push(this.type),this.observer.observe(document.getElementById(this.placement)),this.av.waitFor((()=>document.getElementById(this.placement).hasAttribute("data-google-query-id"))).then((()=>{this.copy()})),this.rebidded||"mab"!==this.fallback.mode||""!==this.fallback.html||this.fetchHouse()}))}getPriceRule(e){return super.getPriceRule(e)}setVisibilityCookie(){this.av.setCookie("avStaticViewed","true",60)}}class AVFixedSlot extends AVStaticSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,Math.max(10,u),p,m,f,v,w,y,b,S),this.type="fixed",this.delay=u,this.style="",this.position=this.extraOptions.position||"bottom",this.zIndex=this.extraOptions.zIndex??9999,this.hideOnEdge=this.extraOptions.hideOnEdge??!0,this.ready=!1}isAvailable(){return!!this.av.isMobile&&super.isAvailable()}getMaxHeight(){let e=0;for(const t of this.sizes)"string"!=typeof t&&t.length>1&&t[1]>e&&(e=t[1]);return e}insert(){if("object"!=typeof document?.body||"object"!=typeof document.body?.parentNode)return void setTimeout((()=>this.insert()),100);this.av.insertStyleSheet(`#av-fixed__${this.position}Wrapper{display:none;position:fixed;width:100vw;height:${this.getMaxHeight()+10}px;z-index:${this.zIndex};${this.position}:0;background-color:rgb(255, 255, 255, 0.5);backdrop-filter: blur(10px);-webkit-backdrop-filter: blur(10px);opacity:0;animation:av-fadeIn 0.5s forwards}@keyframes av-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes av-fadeOut{0%{opacity:1;z-index:9999}100%{opacity:0;z-index:0;display:none}}#av-fixed__modal{width:100%;margin: 0;position: absolute;top: 50%;-ms-transform: translateY(-50%);transform: translateY(-50%)}#av-fixed__down{position:absolute;top:5px}#av-fixed__up{position:absolute;bottom:5px}`)
;let e='<div id="av-fixed__down"><svg style="margin: 0px !important; position: absolute !important; bottom: 0px !important; left: 0% !important; display: block !important; width: 80px !important; height: 30px !important; transform: none !important; pointer-events: initial !important;"><defs><filter id="dropShadowTop" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feComponentTransfer in="SourceAlpha" result="TransferredAlpha"><feFuncR type="discrete" tableValues="0.5"></feFuncR><feFuncG type="discrete" tableValues="0.5"></feFuncG><feFuncB type="discrete" tableValues="0.5"></feFuncB></feComponentTransfer><feGaussianBlur in="TransferredAlpha" stdDeviation="2"></feGaussianBlur><feOffset dx="0" dy="0" result="offsetblur"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><path d="M0,26 L0,6 A6,6 0 0,1 6,1 L50,1 A6,6 0 0,1 56,6 L56,20 A6,6 0 0,0 62,26 Z" stroke="#FAFAFA" stroke-width="1" fill="#FAFAFA" style="filter: url(&quot;#dropShadowTop&quot;);"></path><rect x="0" y="25" width="80" height="5" style="fill: rgb(250, 250, 250);"></rect><g class="down" stroke="#616161" stroke-width="2px" stroke-linecap="square"><line x1="22" y1="12" x2="28" y2="18"></line><line x1="28" y1="18" x2="34" y2="12"></line></g></svg></div>',t='<div id="av-fixed__up"><svg style="margin: 0px !important; position: absolute !important; top: 0px !important; left: 0% !important; display: block !important; width: 80px !important; height: 30px !important; transform: none !important; pointer-events: initial !important;"><defs><filter id="dropShadowBottom" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feComponentTransfer in="SourceAlpha" result="TransferredAlpha"><feFuncR type="discrete" tableValues="0.5"></feFuncR><feFuncG type="discrete" tableValues="0.5"></feFuncG><feFuncB type="discrete" tableValues="0.5"></feFuncB></feComponentTransfer><feGaussianBlur in="TransferredAlpha" stdDeviation="2"></feGaussianBlur><feOffset dx="0" dy="0" result="offsetblur"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><path d="M0,4 L0,22 A6,6 0 0,0 6,28 L50,28 A6,6 0 0,0 56,22 L56,10 A6,6 0 0,1 61,4 Z" stroke="#FAFAFA" stroke-width="1" fill="#FAFAFA" style="filter: url(&quot;#dropShadowBottom&quot;);"></path><rect x="0" y="0" width="80" height="5" style="fill: rgb(250, 250, 250);"></rect><g class="up" stroke="#616161" stroke-width="2px" stroke-linecap="square"><line x1="22" y1="18" x2="28" y2="12"></line><line x1="28" y1="12" x2="34" y2="18"></line></g></svg></div>';this.modal=this.av.insertDiv(`av-fixed__${this.position}Wrapper`,`${this.getMaxHeight()>50&&"bottom"===this.position?e:""}${this.getMaxHeight()>50&&"top"===this.position?t:""}<div align="center" id="av-fixed__modal"><div id="${this.placement}"></div></div>`),document.getElementById(`av-fixed__${this.position}Wrapper`).addEventListener("click",function(){this.close()}.bind(this))}isShowable(){return this.ready&&(!this.hideOnEdge&&this.av.getScrollPercentage()>=0||"top"===this.position&&this.av.getScrollPercentage()>.01||"bottom"===this.position&&this.av.getScrollPercentage()<.95)}show(){this.modal.style.display=this.isShowable()?"block":"none",this.isShowable()&&!this.hideOnEdge&&"top"===this.position&&document.body.style.paddingTop!==`${this.getMaxHeight()+20}px`&&(document.body.style.paddingTop=`${this.getMaxHeight()+20}px`,window.scrollTo(0,this.getMaxHeight()+20-40)),this.ready&&setTimeout((()=>{this.show()}),100)}setHeight(e){this.modal.style.height=`${e+10}px`}afterRender(e){super.afterRender(e),this.ready=!(e.isEmpty&&(!this.rebid||this.rebidded)),this.show(),e.isEmpty||this.setHeight(e.size[1])}display(){super.display(),this.ready=!0,this.show()}close(){this.ready=!1,this.refresh=!1,this.modal.style.display="none"}}class AVMABSlot extends AVStaticSlot{constructor(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S){super(e,t,i,s,a,r,o,n,l,d,h,c,g,u,p,m,f,v,w,y,b,S),this.type="mab",this.delay=0}setup(){super.setup(),this.insert(),this.selectors.length>0||this.av.waitFor((()=>document.getElementById(this.placement))).then((()=>{let e=document.getElementById(this.placement);e.setAttribute("class",""),e.style="";let t=document.getElementById(`${this.placement}_wrapper`);t&&(t.setAttribute("align","center"),t.setAttribute("class",""),t.style="")}))}define(e,t){t||(this.av.definedSlots.push(this),this.av.definedTypes.push(this.type),this.av.definedIds.push(this.placement))}display(){null!==document.getElementById(this.placement)?this.forceHouse():setTimeout((()=>{this.display()}),100)}}class AVTag{constructor(e,t,i){this.av=e,this.params=t,this.events=i,this.queue=[]}pushToQueue(e){!0!==this.isUnblocked()||0!==this.queue.length?this.queue.push(e):e()}processQueue(){if(!1!==this.isUnblocked()){for(;this.queue.length>0;){this.queue.shift()()}setTimeout((()=>this.processQueue()),500)}else setTimeout((()=>this.processQueue()),500)}isUnblocked(){return!this.av.skipTags.includes(this.type)&&("object"==typeof document?.body&&"object"==typeof document.body?.parentNode&&(!1===this.av.isSafe||this.av.skipAds||this.av.rendered))}toCamelCase(e){return e.charAt(0).toUpperCase()+e.slice(1)}getStorageKey(e){return void 0!==this.params.id?`av${this.toCamelCase(this.type)}__${this.params.id}__${this.toCamelCase(e)}TriggeredAt`:`av${this.toCamelCase(this.type)}${this.toCamelCase(e)}TriggeredAt`}updateTriggeredAt(e){let t=(new Date).getTime();sessionStorage.setItem(this.getStorageKey(e),t)}debounce(e,t,i,s){s<=0?this.track(t,i):(new Date).getTime()-parseInt(sessionStorage.getItem(this.getStorageKey(e))||0)<s||(this.updateTriggeredAt(e),this.track(t,i))}trigger(e,t){for(const i of this.events)i.action===e&&this.debounce(e,i.label,{...t,...i.options},i.debounceRate??0)}isPresent(){return!1}addListeners(){this.av.utcTimestamp===sessionStorage.getItem("avUtcTimestamp")&&this.trigger("sessionStart",{}),this.av.utcTimestamp===sessionStorage.getItem("avUtcTimestamp")&&["adwords","fb","ig","an","taboola","medianet","tiktok","manychat"].includes(sessionStorage.getItem("avUtmSource"))&&this.trigger("paidSessionStart",{}),this.av.utcTimestamp===sessionStorage.getItem("avUtcTimestamp")&&["sendpulse","pushalert","activecampaign","mautic","courier","sms","whatsapp","wapp","pushnews","network"].includes(sessionStorage.getItem("avUtmSource"))&&this.trigger("returningSessionStart",{}),this.trigger("pageImpression",{}),document.addEventListener("click",function(e){"A"!==e.target.tagName&&"A"!==e.target.parentElement?.tagName&&"A"!==e.target.parentElement?.parentElement?.tagName&&"A"!==e.target.parentElement?.parentElement?.parentElement?.tagName||this.trigger("linkClick",{})}.bind(this)),this.av.waitFor((()=>this.av.getScrollPercentage()>=(this.params.scrollPercentage??.1))).then((()=>{this.trigger("pageScroll",{})}))}loadZaraz(){if(document.querySelector('script[src*="/c/z/i"]'))return;let e=document.createElement("script");e.setAttribute("src","/c/z/i.js"),e.setAttribute("referrerpolicy","origin"),document.body.appendChild(e)}setup(){this.pushToQueue((()=>{this.isPresent()||this.load(),!0===this.params.sendToZaraz&&this.loadZaraz(),this.modify()})),this.addListeners(),this.processQueue()}load(){}modify(){}pushToZaraz(e,t,i){if(void 0!==window.zaraz?.track){for(const e of["email","firstName","lastName","phoneNumber"])i[e]&&window.zaraz.set(e,i[e]);this.pushToQueue((()=>{window.zaraz.track(t,{currency:i.currency,eventId:e,tagId:this.params.id,tagType:this.type,value:i.value})}))}else setTimeout((()=>this.pushToZaraz(e,t,i)),100)}track(){}}class AVGTag extends AVTag{constructor(e,t,i){super(e,t,i)}load(){let e=document.createElement("script");e.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=${this.params.id}`),document.body.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){dataLayer.push(arguments)},window.gtag("js",new Date),this.config()}}class AVGATag extends AVGTag{constructor(e,t,i){super(e,t,i),this.type="ga"}track(e,t){this.pushToQueue((()=>{window.gtag("event",e,{page_title:document.title,page_location:window.location.href,...t})}))}isPresent(){return Object.keys(window.google_tag_manager||[]).filter((e=>"G-"==e.substring(0,2))).length>0}formatMabCookieName(e){return`mab_${e}_variant`}getMabSeenCookie(e){return`m${e}_seen=true`}setMabSeenCookie(e,t){let i=this.getMabSeenCookie(e);document.cookie=`${i}; path=/; domain=${t}; max-age=31536000`}setMabCookie(e,t,i){let s=`${this.formatMabCookieName(e)}=${t}`;return document.cookie=`${s}; path=/; domain=${i}; max-age=1800`,s}getTopLevelDomain(e=null){let t;if(e)if("string"==typeof e)t=new URL(e).hostname;else{if(!(e instanceof URL))throw new Error("Invalid URL parameter. It must be a string or a URL object.");t=e.hostname}else t=window.location.hostname;const i=t.split(".");if(i.length>1){return i.slice(-2).join(".")}return t}getMabStr(e){const t=e.match(/mab_(\d+)_variant=\d+/),i=e.match(/mab_\d+_variant=(\d+)(s?)/);if(!t||!i)return"";return"m"+t[1]+"v"+i[1]+i[2]}setCookies(){if(window.location.search){let e=this.getTopLevelDomain(),t=new URLSearchParams(window.location.search),i=t.get("utm_mab_id"),s=t.get("utm_variant_value");i&&s&&(this.setMabCookie(i,s,e),s.includes("s")&&this.setMabSeenCookie(i,e))}}getMabCookie(){let e,t;e=/(?:^|;\s*)mab_\d*_variant\s*=\s*\d*(s?)/g;let i=document.cookie.match(e);if(i){let e=[];for(let t of i)e.push(this.getMabStr(t));let s=Array.from(new Set(e));s.sort(),t=s.join("")}return t}config(){this.setCookies(),window.gtag("config",this.params.id,{send_page_view:!1,mab_str:this.getMabCookie()})}}class AVAWTag extends AVGTag{constructor(e,t,i){super(e,t,i),this.type="aw"}track(e,t){let i=this.av.uuid();!0!==this.params.sendToZaraz?(void 0===t.email&&null===localStorage.getItem("_zaraz_email")||this.pushToQueue((()=>{window.gtag("set","user_data",{email:t.email||JSON.parse(localStorage.getItem("_zaraz_email"))}),void 0!==window.zaraz?.set&&window.zaraz.set("email",t.email)})),void 0===t.value&&this.pushToQueue((()=>{window.gtag("event","conversion",{send_to:e,transaction_id:i})})),void 0!==t.value&&this.pushToQueue((()=>{window.gtag("event","conversion",{send_to:e,value:Math.max(.01,t.value),currency:t.currency,transaction_id:i})}))):this.pushToZaraz(i,e,t)}isPresent(){return Object.keys(window.google_tag_manager||[]).filter((e=>"AW-"==e.substring(0,2))).length>0}config(){window.gtag("config",this.params.id,{allow_enhanced_conversions:!0})}}class AVFBTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="fb"}track(e,t){let i=["AddToCart","InitiateCheckout","PageView","Purchase"].includes(e)?"trackSingle":"trackSingleCustom",s=this.av.uuid();void 0===t.value&&this.pushToQueue((()=>{window.fbq(i,this.params.id,e,{eventCategory:t.eventCategory},{eventID:s})})),void 0!==t.value&&this.pushToQueue((()=>{window.fbq(i,this.params.id,e,{value:Math.max(.01,t.value),currency:t.currency},{eventID:s})})),!0===this.params.sendToZaraz&&this.pushToZaraz(s,e,t)}isPresent(){return void 0!==window.fbq&&"function"==typeof window.fbq.getState&&window.fbq.getState().pixels[0]===this.params.id}load(){var e,t,i,s,a,r,o;e=window,t=document,i="script",s="https://connect.facebook.net/en_US/fbevents.js",e.fbq||(a=e.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},e._fbq||(e._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(r=t.createElement(i)).async=!0,r.src=s,(o=t.getElementsByTagName(i)[0]).parentNode.insertBefore(r,o)),fbq("set","autoConfig",!1,this.params.id),fbq("init",this.params.id)}}class AVTTTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="tt"}track(e,t){"pageview"===e.toLowerCase()&&this.pushToQueue((()=>{window.ttq.page()})),"pageview"!==e.toLowerCase()&&this.pushToQueue((()=>{window.ttq.track(e,{value:Math.max(.01,t.value??.01),currency:t.currency??"USD",content_ids:[this.av.pagePath]})}))}isPresent(){return void 0!==window.ttq}load(){!function(e,t,i,s){e.TiktokAnalyticsObject=i;var a=e[i]=e[i]||[];a.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],a.setAndDefer=function(e,t){e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}};for(var r=0;r<a.methods.length;r++)a.setAndDefer(a,a.methods[r]);a.instance=function(e){for(var t=a._i[e]||[],i=0;i<a.methods.length;i++)a.setAndDefer(t,a.methods[i]);return t},a.load=function(e,t){var s="https://analytics.tiktok.com/i18n/pixel/events.js";a._i=a._i||{},a._i[e]=[],a._i[e]._u=s,a._t=a._t||{},a._t[e]=+new Date,a._o=a._o||{},a._o[e]=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=s+"?sdkid="+e+"&lib="+i;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)},a.load(s)}(window,document,"ttq",this.params.id)}}class AVTBTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="tb"}track(e,t){this.pushToQueue((()=>{window._tfa.push({notify:"event",name:e,id:Number(this.params.id),revenue:Math.max(.01,t.value??.01),currency:t.currency??"USD"})}))}isPresent(){return void 0!==window._tfa}load(){var e,t,i,s;window._tfa=window._tfa||[],e=document.createElement("script"),t=document.getElementsByTagName("script")[0],i=`//cdn.taboola.com/libtrc/unip/${this.params.id}/tfa.js`,s="tb_tfa_script",document.getElementById(s)||(e.async=1,e.src=i,e.id=s,t.parentNode.insertBefore(e,t))}}class AVRudderTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="rudder"}track(e,t){this.pushToQueue((()=>{window.rudderanalytics.track(e,{first_utm_source:`${localStorage.getItem("avUtmSource")}`,first_utm_medium:`${localStorage.getItem("avUtmMedium")}`,first_utm_campaign:`${localStorage.getItem("avUtmCampaign")}`,first_utm_content:`${localStorage.getItem("avUtmContent")}`,first_utm_term:`${localStorage.getItem("avUtmTerm")}`,first_land_uri:`${localStorage.getItem("avLandUri")}`,first_utc_timestamp:`${localStorage.getItem("avUtcTimestamp")}`,current_utm_source:`${sessionStorage.getItem("avUtmSource")}`,current_utm_medium:`${sessionStorage.getItem("avUtmMedium")}`,current_utm_campaign:`${sessionStorage.getItem("avUtmCampaign")}`,current_utm_content:`${sessionStorage.getItem("avUtmContent")}`,current_utm_term:`${sessionStorage.getItem("avUtmTerm")}`,current_land_uri:`${sessionStorage.getItem("avLandUri")}`,current_utc_timestamp:`${sessionStorage.getItem("avUtcTimestamp")}`,current_experiment:`${sessionStorage.getItem("avExperiment")}`,current_marketplace:`${sessionStorage.getItem("avMarketplace")}`})}))}isPresent(){return"object"==typeof window.rudderanalytics}load(){var e=window.rudderanalytics=window.rudderanalytics||[];e.methods=["load","page","track","identify","alias","group","ready","reset","getAnonymousId","setAnonymousId"],e.factory=function(t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(t),e.push(i),e}};for(var t=0;t<e.methods.length;t++){var i=e.methods[t];e[i]=e.factory(i)}e.loadJS=function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cdn.rudderlabs.com/v2/rudder-analytics.min.js?transport=beacon";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},e.loadJS(),e.load(this.params.writeKey,this.params.dataPlaneUrl)}modify(){for(const e of["avLandUri","avUtcTimestamp"])sessionStorage.getItem(e)&&!this.av.hasCookie(e)&&this.av.setCookie(e,sessionStorage.getItem(e),120)}}class AVCDPTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="cdp"}track(e,t){let i=t?.event?.slot.getTargetingMap();void 0!==i&&googletag.pubads().getTargetingKeys().forEach((e=>{i[e]=googletag.pubads().getTargeting(e)}));let s={user_id:localStorage.getItem("avUserId"),user_agent:navigator.userAgent,session_id:sessionStorage.getItem("avSessionId"),recorded_at:(new Date).toISOString(),context:{metabase_id:this.av.extraInfo.metabaseId||"",admanager_id:this.av.getAdmanagerId(),admanager_currency:this.av.extraInfo.admanagerCurrency.toUpperCase()||"",admanager_pattern:this.av.slots[this.av.slots.length-1].name.split("/")[2].split("_")[0].toLowerCase()+"_",href:window.location.href,hostname:window.location.hostname,pathname:window.location.pathname,search:window.location.search,utm_source:sessionStorage.getItem("avUtmSource"),utm_medium:sessionStorage.getItem("avUtmMedium"),utm_campaign:sessionStorage.getItem("avUtmCampaign"),utm_content:sessionStorage.getItem("avUtmContent"),utm_term:sessionStorage.getItem("avUtmTerm"),gclid:localStorage.getItem("avGclid"),fbclid:localStorage.getItem("avFbclid"),tbclid:localStorage.getItem("avTbclid"),ttclid:localStorage.getItem("avTtclid"),request_uri:sessionStorage.getItem("avRequestUri"),land_uri:sessionStorage.getItem("avLandUri"),experiment:this.av.experiment,country:this.av.country,risk_score:this.av.riskScore,risk_score_threshold:this.av.riskScoreThreshold,is_safe:this.av.isSafe},event_name:e,event_properties:{ad_type:t?.slot?.type,ad_placement:t?.slot?.placement,ad_sizes:t?.slot?.sizes,ad_unit:t?.event?.slot.getAdUnitPath(),ad_size:t?.event?.size,ad_is_empty:t?.event?.isEmpty,ad_is_backfill:t?.event?.isBackfill,ad_advertiser_id:t?.event?.advertiserId,ad_campaign_id:t?.event?.campaignId,ad_creative_id:t?.event?.creativeId,ad_creative_template_id:t?.event?.creativeTemplateId,ad_line_item_id:t?.event?.lineItemId,ad_iframe_url:t?.event?.iframeUrl,ad_targeting:i,escalated_result:t?.escalatedResult,escalated_traffic_type:t?.escalatedTrafficType,escalated_risk_score:t?.escalatedRiskScore}};this.pushToQueue((()=>{fetch("https://api-stream-service-production.activeview.app/send-data",{method:"POST",headers:{accept:"application/json","x-key":this.params.writeKey,"Content-Type":"application/json"},body:JSON.stringify(s),keepalive:!0,priority:"low"})}))}}class AVEscalatedTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="escalated"}isPresent(){return null!==sessionStorage.getItem("avRiskScore")||null!==document.querySelector('script[src*="tag.escalated.io"]')}load(){this.av.insertScript(`//tag.escalated.io?i=${this.params.key}&callback=avUpdateIsSafe`,(()=>{this.av.updateIsSafe(null,null,null,0)}))}}class AVNetworkTag extends AVTag{constructor(e,t,i){super(e,t,i),this.type="network"}load(){this.av.overwriteStorage(sessionStorage,"avLocationSearch",window.location.search,!0,!1)}modify(){null!==sessionStorage.getItem("avLocationSearch")&&document.querySelectorAll("a").forEach((e=>{e.href&&e.href.includes("://")&&!e.href.includes("://"+window.location.hostname)&&!e.href.includes("?")&&(e.href+=sessionStorage.getItem("avLocationSearch"))}))}}const avSlotFactory={interstitial:AVInterstitialSlot,rewarded:AVRewardedSlot,offerWall:AVOfferWallSlot,bottomAnchor:AVBottomAnchorSlot,topAnchor:AVTopAnchorSlot,static:AVStaticSlot,fixed:AVFixedSlot,mab:AVMABSlot},avTagFactory={ga:AVGATag,aw:AVAWTag,fb:AVFBTag,tt:AVTTTag,tb:AVTBTag,rudder:AVRudderTag,cdp:AVCDPTag,escalated:AVEscalatedTag,network:AVNetworkTag};window.avCustomConfig=window.avCustomConfig||{},"object"!=typeof window.av&&(window.av=new AV(window.avConfig.domain,window.avConfig.host,window.avConfig.extraInfo||{},window.avCustomConfig.ASPercentage||window.avConfig.ASPercentage||0,window.avConfig.invalidTraffic||{mode:"off"},window.avCustomConfig.priceRules||window.avConfig.priceRules||{mode:"custom"},window.avConfig.consent||{mode:"gfc"},window.avCustomConfig.KVBlacklist||window.avConfig.KVBlacklist||[],window.avConfig.overwriteStyle,window.avCustomConfig.showLoader??window.avConfig.showLoader,window.avConfig.lazyLoad||{fetchMarginPercent:20,renderMarginPercent:10,mobileScaling:2},window.avConfig.theme,window.avConfig.telemetry??!1,window.avConfig.refresh||{},window.avConfig.snippets||[],window.avConfig.setPPID??!1,window.avConfig.setPPS??{},window.avConfig.extraOptions??{},window.avCustomConfig.modifiers||window.avConfig.modifiers||{},window.avCustomConfig.skipAds??!1,window.avCustomConfig.locale||"",window.avConfig.customKVs||[],window.avCustomConfig.extraKVs||{},window.avCustomConfig.whitelistRegEx||"",window.avCustomConfig.blacklistRegEx||"",window.avCustomConfig.skipGPT??!1,window.avCustomConfig.skipTags||[]),window.avConfig.slots.forEach((e=>{av.slots.push(new avSlotFactory[e.type](av,e.name,e.placement,e.sizes,e.device,e.locale||"any",e.utmSource||"any",e.urlPattern||"any",e.rebid??!0,e.refresh??!0,e.drift,e.cookies,e.experiment||"any",e.delay,e.condition||"",e.selectors||[],e.collapsible??!1,e.priceRules||{},e.fallback||{mode:"off"},e.marketplace||{},e.extraKVs||{},e.extraOptions||{}))})),(window.avConfig.tags||[]).forEach((e=>{av.tags.push(new avTagFactory[e.type](av,e.params||{},e.events||[]))})),av.start());